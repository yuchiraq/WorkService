# Cистема управления персоналом "Авалонстрой"

Это веб-приложение для внутреннего использования, предназначенное для управления информацией о сотрудниках, их расписанием и задачами в компании "Авалонстрой".

### Основные возможности

*   **Аутентификация:** Безопасный вход в систему для сотрудников.
*   **Управление работниками:** Просмотр, добавление, редактирование и удаление (увольнение) данных о работниках.
*   **Поиск и фильтрация:** На странице работников доступен поиск по Ф.И.О. и фильтр по должности с отображением количества найденных записей.
*   **Панель управления:** Центральная страница с основной информацией и быстрой навигацией.
*   **Профиль работника:** Детальная страница с информацией о конкретном работнике.
*   **Управление объектами:** Добавление и редактирование объектов с адресом, статусом и ответственным.
*   **Пользователи и роли:** Администраторы могут добавлять/редактировать пользователей, а каждый пользователь может редактировать свой профиль.

### Технологический стек

*   **Бэкенд:** Go (Golang) с использованием фреймворка Gin.
*   **Фронтенд:** Чистый HTML и CSS, без использования JavaScript-фреймворков.
*   **Данные:** В данный момент информация хранится в файле `storage/workers.json`. В будущем планируется переход на полноценную базу данных.

### Как запустить проект

1.  Убедитесь, что у вас установлен Go (версия 1.18 или выше).
2.  Откройте терминал в корневой директории проекта.
3.  Выполните команду `go run cmd/server/main.go`.
4.  Сервер запустится на порту `8099`.
5.  Откройте в браузере `http://localhost:8099`.

### Архитектурные улучшения (Май 2024)

Проект прошел через значительный рефакторинг с целью улучшения качества кода, его поддержки и дальнейшего расширения. Были внедрены следующие изменения:

*   **Отказ от стандартных шаблонов Go:** Вместо системы `html/template` теперь используется подход с программной генерацией HTML-кода непосредственно в Go. Это устранило ошибки компиляции, связанные со сложными строками, и сделало рендеринг страниц более гибким и контролируемым.

*   **Централизованная генерация навигации:** Создан новый файл `internal/api/shared.go` и функция `RenderSidebar`. Эта функция динамически генерирует HTML-код боковой панели и автоматически подсвечивает пункт меню, соответствующий текущей странице. Это позволило избавиться от дублирования кода в обработчиках.

*   **Унификация рендеринга:** Все обработчики страниц (Главная, Список работников, Профиль работника) были переписаны для использования единого механизма генерации HTML. Это делает код более консистентным и легким для понимания.

*   **Пользовательская страница 404:** Добавлена кастомная, стилизованная страница "404 Not Found". Теперь при переходе на несуществующий URL пользователь видит понятное сообщение и ссылку для возврата на главный экран, что улучшает пользовательский опыт.

*   **Очистка проекта:** В рамках рефакторинга были удалены все старые и более неиспользуемые файлы HTML-шаблонов (`/web/templates`), что уменьшило количество лишних файлов в проекте.
